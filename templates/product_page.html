<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Page</title>
</head>

<style>

    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }

    body {
        background-color: black;
        color: white;
    }

    h1 {
        text-align: center;
        padding: 20px;
        font-size: 40px;
    }

    button {
        border: 1px transparent solid;
        border-radius: 5px;
        font-size: 20px;
        background-color: red;
        color: white;
        padding: 15px 10px;
    }

    button:hover {
        background-color: white;
        color: black;
        transition: 0.2s ease-in;
    }

    input {
        font-size: 20px;
        padding: 15px 10px;
        width: 100%;
        border: 1px transparent solid;
        border-radius: 5px;
    }

    .div-body {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }

    .div-content {
        display: flex;
        width: 90%;
        padding: 10px;
        justify-content: center;
        align-items: center;
        gap: 10px;
    }

    .product-card {
        display: flex;
        flex-direction: column;
        border: 1px red solid;
    }

    .product-card h2 {
        text-align: center;
        padding-bottom: 5px;
    }

    .product-card p {
        padding: 0px 5px 5px 5px;
    }

</style>

<body>

    <nav>
        <ul>
            <li><a href="{{ url_for('index') }}">Home</a></li>
            <li><a href="{{ url_for('login') }}">Login</a></li>
            <li><a href="{{ url_for('signup') }}">Signup</a></li>
            <li><a href="{{ url_for('product_creation') }}">Create a Product</a></li>
            <li><a href=" {{ url_for('product_page') }} ">Product Page</a></li>
        </ul>
    </nav>

    <h1>Product Page</h1>
    
    <div class="div-body">
        <div class="div-content" id="div-content">
            <!-- Generated Products load within this container -->
        </div>
    </div>
</body>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        // info for each product
        const product_titles = document.querySelectorAll("title")
        const categories = document.querySelectorAll("category")
        const descriptions = document.querySelectorAll("description")
        const images = document.querySelectorAll("img")
        const prices = document.querySelectorAll("price")
        const sizes = document.querySelectorAll("sizes")

        async function loadProducts() {
            const res = await fetch("/api/get_products");
            const data = await res.json();

            const container = document.getElementById("div-content");

            data.products.forEach(product => {
                const div = document.createElement("div");
                div.classList.add("product-card");
                div.innerHTML = `
                    <h2>${product.name}</h2>
                    <p><strong>Price:</strong> $${product.price}</p>
                    <p><strong>Description:</strong> ${product.description}</p>
                    <p><strong>Colors:</strong> ${product.colors}</p>
                    <p><strong>Sizes:</strong> ${product.sizes}</p>
                `;
                container.appendChild(div);
            });
        }
        
        loadProducts();
    })
</script>

</html>